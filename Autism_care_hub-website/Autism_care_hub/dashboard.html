<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Autism Screening Results</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background: linear-gradient(120deg, #6b46c1, #eba7ec, #d6bcfa, #6db8e7);
      background-size: 400% 400%;
      animation: galaxyFlow 12s ease infinite;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    @keyframes galaxyFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    main { flex: 1; }
    .cloud-box {
      background-color: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
  <!-- Header -->
<body>
<header class="bg-gradient-to-r from-blue-400 to-blue-300 text-gray-800 sticky top-0 z-50 shadow-md">
  <nav class="max-w-7xl mx-auto flex justify-between items-center py-4 px-6">
    <div class="text-3xl font-bold tracking-wide">Autism Care Hub</div>
    <div class="space-x-6 font-medium hidden md:flex">
      <a href="index.html" class="hover:text-white">Home</a>
    </div>
  </nav>
</header>
<main class="flex justify-center items-center py-10 px-4">
  <div class="cloud-box w-full max-w-2xl text-center">
    <h1 class="text-3xl font-bold mb-6 text-purple-800">Autism Screening Results</h1>
    <canvas id="severity-chart" width="400" height="200"></canvas>
    <div class="mt-6">
      <h2 class="text-xl font-semibold text-purple-700">Severity Level</h2>
      <p id="severity-level" class="text-lg text-gray-800 font-medium"></p>
      <h2 class="text-xl font-semibold text-purple-700 mt-4">Next Steps</h2>
      <p id="next-steps" class="text-lg text-gray-800"></p>
    </div>
  </div>
</main>
<script>
  const answers = JSON.parse(localStorage.getItem("answers")) || [];
  const score = answers.filter(ans => ans === "yes").length;
  const percentageScore = (score / 40) * 200;

  let severityLevel = "Normal";
  if (percentageScore >= 70 && percentageScore <= 106) {
    severityLevel = "Mild Autism";
  } else if (percentageScore > 106 && percentageScore <= 153) {
    severityLevel = "Moderate Autism";
  } else if (percentageScore > 153) {
    severityLevel = "Severe Autism";
  }

  const nextSteps = {
    "Normal": "No significant signs of Autism detected. Continue observing and nurturing development.",
    "Mild Autism": "Consider early intervention and behavioral therapy. Regular monitoring is recommended.",
    "Moderate Autism": "Seek professional assessment and intervention. Therapy may help improve social and communication skills.",
    "Severe Autism": "Immediate professional intervention is necessary. Comprehensive therapy and support are recommended."
  };

  document.getElementById("severity-level").textContent = `${severityLevel} (Score: ${Math.round(percentageScore)} / 200)`;
  document.getElementById("next-steps").textContent = nextSteps[severityLevel];

  const ctx = document.getElementById('severity-chart').getContext('2d');
  const severityChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Score'],
      datasets: [{
        label: 'ISAA Score (0-200)',
        data: [Math.round(percentageScore)],
        backgroundColor: '#ff5555',
        borderColor: '#5b2db4',
        borderWidth: 1
      }]
    },
    options: {
      indexAxis: 'y',
      scales: {
        x: {
          beginAtZero: true,
          max: 200
        }
      }
    }
  });
</script>

  <!-- Footer -->
  <footer class="bg-gradient-to-r from-blue-400 to-blue-300 text-gray-800 py-8">
    <div class="max-w-7xl mx-auto text-center">
      <p class="text-lg font-semibold mb-2">Contact Us</p>
      <p>Email: <a href="mailto:trixietriesit247@gmail.com" class="hover:text-white underline">support@autismcarehub.com</a></p>
      <p class="mt-4 text-sm">&copy; 2025 Autism Care Hub.</p>
    </div>
  </footer>
</body>
</html>
